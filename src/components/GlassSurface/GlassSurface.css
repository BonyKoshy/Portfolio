/* Define custom properties that can be set by children components (like Button) */
:root {
  --button-glass-bg: transparent; /* Default to transparent */
  --button-glass-border: transparent; /* Default to transparent */
}

/* Fallback styles: Use the custom properties if they are set */
.glass-surface--fallback {
  background: var(--button-glass-bg, rgba(255, 255, 255, 0.25)); /* Use custom background if available, else default */
  backdrop-filter: blur(12px) saturate(1.8) brightness(1.1);
  -webkit-backdrop-filter: blur(12px) saturate(1.8) brightness(1.1);
  border: 1px solid var(--button-glass-border, rgba(255, 255, 255, 0.3)); /* Use custom border if available, else default */
  box-shadow:
    0 8px 32px 0 rgba(31, 38, 135, 0.2),
    0 2px 16px 0 rgba(31, 38, 135, 0.1),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 0 rgba(255, 255, 255, 0.2);
}

.glass-surface {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  transition: opacity 0.26s ease-out;
}

.glass-surface__filter {
  width: 100%;
  height: 100%;
  pointer-events: none;
  position: absolute;
  inset: 0;
  opacity: 0;
  z-index: -1;
}

.glass-surface__content {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  border-radius: inherit;
  position: relative;
  z-index: 1;
}

.glass-surface--svg {
  background: light-dark(hsl(0 0% 100% / var(--glass-frost, 0)),
      hsl(0 0% 0% / var(--glass-frost, 0)));
  backdrop-filter: var(--filter-id, url(#glass-filter)) saturate(var(--glass-saturation, 1));
  box-shadow:
    0 0 2px 1px light-dark(color-mix(in oklch, black, transparent 85%),
      color-mix(in oklch, white, transparent 65%)) inset,
    0 0 10px 4px light-dark(color-mix(in oklch, black, transparent 90%),
      color-mix(in oklch, white, transparent 85%)) inset,
    0px 4px 16px rgba(17, 17, 26, 0.05),
    0px 8px 24px rgba(17, 17, 26, 0.05),
    0px 16px 56px rgba(17, 17, 26, 0.05),
    0px 4px 16px rgba(17, 17, 26, 0.05) inset,
    0px 8px 24px rgba(17, 17, 26, 0.05) inset,
    0px 16px 56px rgba(17, 17, 26, 0.05) inset;
}

/* Fallback for browsers not supporting backdrop-filter - this is already covered, but let's ensure the var is properly used for fallback */
@supports not (backdrop-filter: blur(10px)) {
  .glass-surface--fallback {
    background: var(--button-glass-bg, light-dark(rgba(255, 255, 255, 0.4), rgba(0, 0, 0, 0.4))); /* Use button variable, then light-dark fallback */
    border: 1px solid var(--button-glass-border, light-dark(rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.2))); /* Use button variable, then light-dark fallback */
    box-shadow:
      inset 0 1px 0 0 light-dark(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2)),
      inset 0 -1px 0 0 light-dark(rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1));
  }
}
.glass-surface:focus-visible {
  outline: 2px solid light-dark(#007AFF, #0A84FF);
  outline-offset: 2px;
}