/* src/components/Navbar/Navbar.css */

/* --- Base/Desktop Styles --- */
.navbar-container {
  /* Position the entire Navbar component (the outer container) */
  position: fixed; /* Stays fixed at the top of the viewport */
  top: 20px;       /* Distance from the top edge */
  left: 50%;       /* Start from the middle of the screen */
  transform: translateX(-50%); /* Pull back by half its width to perfectly center */
  z-index: 1000;   /* Ensure it's above other content */
  width: calc(100% - 40px); /* Desktop width: full width minus 20px padding on each side */
  max-width: 1200px; /* Optional: maximum width for very wide screens */
  
  display: flex; /* Use flex to center the GlassSurface horizontally */
  justify-content: center; /* Center the GlassSurface child */
  align-items: center; /* Center the GlassSurface vertically within its own height (default 80px) */

  /* Smooth transition for when it expands on mobile */
  transition: all 0.5s ease-in-out;
}

.navbar-glass-surface {
  /* This class wraps the actual content and gets the glass effect */
  /* Width, height, borderRadius are primarily set by props from Navbar.jsx */
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2); /* Prominent shadow for the floating effect */
  min-width: 300px; /* Ensure a minimum readable width on desktop */
  transition: all 0.4s ease-in-out; /* Smooth transition for shape changes */
  height: 80px; /* Explicitly set height here for desktop consistency */
  border-radius: 40px; /* Explicitly set border-radius here for desktop consistency */
  width: 100%; /* Ensure it fills the navbar-container width */
}

.navbar-content {
  /* This is the content *inside* the glass surface */
  display: flex;
  justify-content: space-between; /* Distribute items (left, middle, right) */
  align-items: center; /* Vertically center items */
  padding: 0 25px; /* Padding inside the glass bar */
  height: 100%; /* Take full height of the glass surface */
  width: 100%; /* Take full width of the glass surface */
  transition: opacity 0.3s ease-in-out 0.1s; /* Smooth fade for content visibility */
}

/* Specific content alignment within the navbar-content */
.navbar-left-content,
.navbar-right-content {
  display: flex;
  align-items: center;
  /* Add gap for internal elements if needed, e.g., gap: 15px; */
}

.navbar-brand h1 {
  display: none; /* Hidden on desktop for this floating bar design */
}

.navbar-links {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 30px; /* Spacing between navigation links */
}

.navbar-links a {
  color: var(--text-color-secondary); /* Text color adapts to theme */
  text-decoration: none;
  font-weight: 600;
  transition: color 0.3s ease, transform 0.2s ease;
  padding: 5px 0; /* Vertical padding for clickable area */
  position: relative; /* For the underline effect */
}

.navbar-links a:hover {
  color: var(--text-color-primary); /* Change color on hover */
  transform: translateY(-2px); /* Subtle lift effect */
}

.navbar-links a::after {
  /* Underline effect */
  content: '';
  position: absolute;
  width: 0;
  height: 2px;
  bottom: 0;
  left: 0;
  background-color: var(--text-color-primary); /* Underline color adapts to theme */
  transition: width 0.3s ease-in-out;
}

.navbar-links a:hover::after {
  width: 100%; /* Expand underline on hover */
}

/* Hamburger wrapper - hidden by default on desktop */
.hamburger-fixed-wrapper {
  display: none;
}

/* --- Mobile-Specific Styles --- */
@media (max-width: 768px) {
  /* This .navbar-container will transform into the fixed top-left circle */
  .navbar-container {
    top: 15px; /* Fixed distance from top */
    left: 15px; /* Fixed distance from left */
    right: auto; /* Remove right positioning */
    transform: none; /* Remove translateX centering */
    width: 60px; /* Fixed width for the compact circular button */
    height: 60px; /* Fixed height for the compact circular button */
    border-radius: 50%; /* Make it a perfect circle */
    overflow: hidden; /* Hide content that goes outside the circle */
    /* Ensure content inside the circular GlassSurface is centered */
    align-items: center;
    justify-content: center;
  }

  /* The GlassSurface component itself when in mobile mode (adjusts its own props via JS) */
  .navbar-glass-surface {
    /* !important is used here to override inline styles set by props in Navbar.jsx */
    width: 100% !important; /* Take full width of .navbar-container (60px) */
    height: 100% !important; /* Take full height of .navbar-container (60px) */
    border-radius: 50% !important; /* Ensure it's a circle */
    padding: 0 !important; /* Remove internal padding for tight circle fit */
    min-width: unset !important; /* Remove desktop min-width */
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important; /* More pronounced shadow for floating circle */
    /* No transitions here, as they are managed by .navbar-container for the expansion */
  }

  /* Content inside the glass surface (hidden when compact, shown when expanded) */
  .navbar-content {
    opacity: 0; /* Hide content by default in compact state */
    pointer-events: none; /* Prevent interaction with hidden content */
    transition: opacity 0.2s ease-out; /* Smooth fade out content */
    display: flex; /* Keep flex context */
    flex-direction: column; /* Stack items vertically in expanded menu */
    justify-content: center; /* Center items when initially hidden/compact */
    align-items: center; /* Center items when initially hidden/compact */
    padding: 0; /* Remove initial padding */
    gap: 20px; /* Gap between menu items when expanded */
  }

  /* Hamburger Menu Wrapper - Always fixed to the top-left of the viewport on mobile */
  .hamburger-fixed-wrapper {
      display: block; /* Show the hamburger button wrapper on mobile */
      position: fixed; /* Fixed to the viewport */
      top: 15px; /* Match Navbar container's top position */
      left: 15px; /* Match Navbar container's left position */
      right: auto; /* Ensure it's not positioned from the right */
      width: 60px; /* Match the size of the Navbar circle */
      height: 60px; /* Match the size of the Navbar circle */
      display: flex; /* For centering the hamburger icon */
      justify-content: center;
      align-items: center;
      z-index: 1001; /* Ensure it's always on top, above the expanding Navbar overlay */
  }

  /* Hide specific elements by default on mobile (only hamburger is visible in compact state) */
  .navbar-left-content, /* DateTimeDisplay */
  .navbar-links,
  .navbar-right-content /* This holds the DarkModeSwitch */ {
    display: none;
  }


  /* --- Mobile Menu OPEN State --- */
  .navbar-container.mobile-menu-open {
    /* This container expands to become the full-screen overlay */
    width: 100vw; /* Take full viewport width */
    height: 100vh; /* Take full viewport height */
    top: 0;
    right: 0;
    left: 0; /* Ensure it covers the full screen */
    border-radius: 0; /* No border-radius for full-screen overlay */
    background: var(--background-color-primary); /* Base background for the overlay */
    backdrop-filter: blur(20px) saturate(1.5) brightness(1.1); /* Background blur for the overlay */
    -webkit-backdrop-filter: blur(20px) saturate(1.5) brightness(1.1);
  }

  .navbar-container.mobile-menu-open .navbar-glass-surface {
    /* The GlassSurface itself transforms to be full-screen, transparent, and without shadow */
    border-radius: 0 !important;
    background: transparent !important; /* Ensure glass background is transparent as container has background */
    box-shadow: none !important; /* Remove shadow for full screen */
  }

  .navbar-container.mobile-menu-open .navbar-content {
    /* Content inside the expanded full-screen menu */
    opacity: 1; /* Show content */
    pointer-events: auto; /* Allow interaction */
    display: flex;
    flex-direction: column; /* Stack menu items vertically */
    justify-content: flex-end; /* CRITICAL: Push content to the BOTTOM */
    align-items: flex-end;   /* CRITICAL: Push content to the RIGHT */
    padding: 30px; /* Padding from bottom and right edges of the screen */
    width: 100%; /* Ensure content area takes full width/height for alignment to work */
    height: 100%;
  }

  /* Show specific elements in the expanded mobile menu */
  .navbar-container.mobile-menu-open .navbar-brand h1,
  .navbar-container.mobile-menu-open .navbar-links,
  .navbar-container.mobile-menu-open .navbar-right-content {
    display: flex; /* Use flex to maintain vertical stacking and right alignment */
    width: auto; /* Let content determine its natural width */
    flex-direction: column; /* Stack these elements vertically */
    align-items: flex-end; /* Align their text/content to the right */
  }

  .navbar-container.mobile-menu-open .navbar-links {
    flex-direction: column;
    text-align: right; /* Align link text to the right */
    gap: 15px;
  }

  .navbar-container.mobile-menu-open .navbar-links a {
    font-size: 1.5rem;
    padding: 10px 0;
  }

  .navbar-container.mobile-menu-open .navbar-right-content {
      margin-top: 20px; /* Space between links and this group */
      gap: 15px; /* Space between ResumeActions and DarkModeSwitch */
      align-items: flex-end; /* Align the group to the right */
  }
}